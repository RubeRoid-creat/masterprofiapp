# Интеграция с админ-панелью

## API Endpoints для интеграции

Все данные доступны через API endpoints для централизованного управления в админ-панели.

### Заказы

**GET /api/orders** - Получение списка заказов
```json
{
  "id": 1,
  "address": "ул. Примерная, д. 1",
  "equipmentType": "Холодильник",
  "problemType": "Не работает",
  "brand": "Samsung",
  "date": "2024-01-15T10:00:00Z",
  "time": "14:00",
  "status": "new",
  "name": "Иван Иванов",
  "phone": "+7-XXX-XXX-XX-XX"
}
```

**POST /api/orders** - Создание заказа (используется формой на сайте)

### Новости

**GET /api/news** - Получение списка новостей
**POST /api/news** - Создание новости (добавить в админ-панель)
**PUT /api/news/[id]** - Обновление новости (добавить в админ-панель)
**DELETE /api/news/[id]** - Удаление новости (добавить в админ-панель)

### Прайс

**GET /api/prices** - Получение прайса
**POST /api/prices** - Добавление позиции (добавить в админ-панель)
**PUT /api/prices/[id]** - Обновление позиции (добавить в админ-панель)
**DELETE /api/prices/[id]** - Удаление позиции (добавить в админ-панель)

### Форум

**GET /api/forum/topics** - Получение тем
**POST /api/forum/topics** - Создание темы
**GET /api/forum/topics/[id]** - Получение темы с ответами
**DELETE /api/forum/topics/[id]** - Удаление темы (добавить в админ-панель)

### Сообщения обратной связи

**GET /api/contacts** - Получение сообщений (добавить в админ-панель)
**POST /api/contacts** - Отправка сообщения (используется формой на сайте)

## Интеграция с приложением мастера

Заказы должны отправляться в приложение мастера. Для этого необходимо:

1. Создать API endpoint в админ-панели для получения заказов
2. При создании заказа на сайте отправлять уведомление в админ-панель
3. Админ-панель должна передавать заказы в приложение мастера через push-уведомления или API

Пример интеграции в `app/api/orders/route.ts`:
```typescript
// TODO: Отправка заказа в приложение мастера через API админ-панели
// await sendOrderToMasterApp(order)
```

## База данных

Все таблицы доступны через Prisma ORM:
- Order - заказы
- News - новости
- Price - прайс
- ForumTopic - темы форума
- ForumReply - ответы на форуме
- ContactMessage - сообщения обратной связи

## Переменные окружения

Необходимо настроить в админ-панели:
- `DATABASE_URL` - подключение к той же БД
- `NEXT_PUBLIC_SITE_URL` - URL сайта для CORS

