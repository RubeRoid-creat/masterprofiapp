# Инструкция по запуску сервера через PM2

## Проблема
Если вы видите ошибку `[PM2] [ERROR] Process or Namespace server not found`, это означает, что процесс не запущен или запущен под другим именем.

## Решение

### 1. Проверьте список запущенных процессов PM2
```bash
pm2 list
```

### 2. Если процесс не найден, запустите сервер:

#### Вариант A: Запуск через PM2 (рекомендуется для продакшена)
```bash
cd ~/masterprofiapp/backend
pm2 start server.js --name "server" --update-env
```

#### Вариант B: Запуск через npm (для разработки)
```bash
cd ~/masterprofiapp/backend
npm start
```

### 3. Если процесс уже запущен под другим именем:

#### Проверьте имя процесса:
```bash
pm2 list
```

#### Перезапустите правильный процесс:
```bash
pm2 restart <имя_процесса>
```

### 4. Сохраните конфигурацию PM2 (чтобы сервер запускался после перезагрузки):
```bash
pm2 save
pm2 startup
```

## Полезные команды PM2

- `pm2 list` - список всех процессов
- `pm2 restart server` - перезапуск процесса "server"
- `pm2 stop server` - остановка процесса
- `pm2 delete server` - удаление процесса из списка
- `pm2 logs server` - просмотр логов
- `pm2 monit` - мониторинг процессов

## Проверка работы сервера

После запуска проверьте, что сервер работает:
```bash
curl http://localhost:3000/api/version
```

Или откройте в браузере:
```
http://212.74.227.208:3000/api/version
```


